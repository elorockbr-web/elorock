<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elo Rock</title>

  <link rel="icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  
  <style>
    :root { color-scheme: dark; }
    body{
      margin:0; min-height:100vh;
      display:grid; place-items:center;
      background:#000;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* “tela de celular” */
    .wrap{
      width:min(100vw, 460px);
      aspect-ratio: 9 / 16;
      position:relative;
      overflow:hidden;
      border-radius:22px;
      box-shadow:0 10px 40px rgba(0,0,0,.6);
      background:#111;
    }

    .screen{
      position:absolute; inset:0;
      background:url("bg.png") center / cover no-repeat;
    }

    .hotspot{
      position:absolute;
      cursor:pointer;
      /*background: rgba(255,0,0,.18); */ /* descomente p/ ver os botões */
    }

.gate{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  background: rgba(0, 0, 0, 0.65); /* translucido escuro */
  backdrop-filter: blur(6px);      /* efeito vidro */
  -webkit-backdrop-filter: blur(6px);
  cursor:pointer;
  z-index: 999;
}

.gateCard{
  padding: 18px 22px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,.5);
}

.gateTitle{
  font-weight: 800;
  font-size: 20px;
  color: rgba(255,255,255,.95);
}

.gateSub{
  margin-top: 6px;
  font-size: 14px;
  color: rgba(255,255,255,.75);
}
    
  </style>
</head>

<body>
  <div class="wrap">
    <div class="screen"></div>

    <!-- Overlay de ativação (obrigatório pra liberar áudio no celular) -->
   <!-- overlay de 1º clique (tela inteira) -->
<div class="gate" id="gate" aria-label="Ativar sons">
  <div class="gateCard">
    <div class="gateTitle">Elo Rock</div>
    <div class="gateSub">Clique para entrar</div>
  </div>
</div>
  
    <!-- HOTSPOTS (já posicionados para sua imagem bg.png) -->
    <div class="hotspot" style="left:36.98%; top:58.98%; width:30.56%; height:5.81%;" data-link="LINK_DO_DRIVE_AGENDA"></div>
    <div class="hotspot" style="left:36.98%; top:65.48%; width:30.56%; height:5.76%;" data-link="LINK_DO_DRIVE_CONTRATE"></div>
    <div class="hotspot" style="left:36.89%; top:72.07%; width:30.47%; height:5.76%;" data-link="LINK_DO_DRIVE_MIDIA"></div>
    <div class="hotspot" style="left:36.89%; top:78.86%; width:30.47%; height:5.76%;" data-link="LINK_DO_DRIVE_INGRESSOS"></div>
  </div>

  <!-- Sons automáticos (apenas estes 4) -->
  <audio id="sfx_online" class="sfx_ambient" src="online.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="newemail.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="nudge.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="type.wav" preload="auto"></audio>

  <script>
  let audioEnabled = false;
  let ambienceTimer = null;

  function rand(min, max){
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function pickRandomAmbientWeighted(){
      // OBS: usamos seletor por src, mas também fazemos fallback para não retornar null.
      const sounds = [
        { el: document.querySelector('audio[src="online.wav"]'),   weight: 3 },
        { el: document.querySelector('audio[src="newemail.wav"]'), weight: 1 },
        { el: document.querySelector('audio[src="nudge.wav"]'),    weight: 2 },
        { el: document.querySelector('audio[src="type.wav"]'),     weight: 4 }
      ].filter(s => s.el);

      // fallback (caso algum querySelector falhe)
      if (!sounds.length) {
        const all = Array.from(document.querySelectorAll("audio.sfx_ambient"));
        return all[Math.floor(Math.random() * all.length)] || null;
      }

      const totalWeight = sounds.reduce((sum, s) => sum + s.weight, 0);
      let r = Math.random() * totalWeight;

      for (const s of sounds) {
        if (r < s.weight) return s.el;
        r -= s.weight;
      }
      return sounds[0].el; // fallback extra
    }

 async function playSafe(audioEl){
      if (!audioEl) return;
      try{
        audioEl.volume = 1.0; // máximo (o usuário ajusta no celular)
        audioEl.currentTime = 0;
        await audioEl.play();
      } catch(e) {}
    }

    function scheduleAmbience(){
      if (!audioEnabled) return;

      const nextMs = rand(3000, 5000);
      ambienceTimer = setTimeout(async () => {
        if (!audioEnabled) return;
        await playSafe(pickRandomAmbientWeighted());
        scheduleAmbience();
      }, nextMs);
    }

    // “prime” (arma) os áudios no primeiro toque (melhora MUITO em celular)
    async function primeAudios(){
      const all = Array.from(document.querySelectorAll("audio.sfx_ambient")).filter(Boolean);

      for (const a of all){
        try{
          const oldVol = a.volume;
          a.volume = 0.001;   // só para “armar” sem estourar som no primeiro toque
          a.currentTime = 0;
          await a.play();
          a.pause();
          a.currentTime = 0;
          a.volume = oldVol;  // volta (e no play real vai a 1.0)
        } catch(e) {}
      }
    }

    // Ativa áudio com 1 toque no overlay
    const gate = document.getElementById("gate");
    gate.addEventListener("click", async () => {
      audioEnabled = true;

      await primeAudios();

      // toca um som imediato (online) e remove o overlay
      await playSafe(document.getElementById("sfx_online"));
      gate.style.display = "none";

      scheduleAmbience();
    });

  // Hotspots: só abre link (sem som)
  document.querySelectorAll(".hotspot").forEach(el => {
    el.addEventListener("click", () => {
      const link = el.dataset.link;
      if(!link || link.startsWith("LINK_")) return;
      window.open(link, "_blank", "noopener,noreferrer");
    });
  });
</script>
</body>
</html>
