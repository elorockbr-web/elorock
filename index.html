<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elo Rock</title>
  <style>
    :root { color-scheme: dark; }
    body{
      margin:0; min-height:100vh;
      display:grid; place-items:center;
      background:#000;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* “tela de celular” */
    .wrap{
      width:min(100vw, 460px);
      aspect-ratio: 9 / 16;
      position:relative;
      overflow:hidden;
      border-radius:22px;
      box-shadow:0 10px 40px rgba(0,0,0,.6);
      background:#111;
    }

    .screen{
      position:absolute; inset:0;
      background:url("bg.png") center / cover no-repeat;
    }

    .hotspot{
      position:absolute;
      cursor:pointer;
      /*background: rgba(255,0,0,.18); */ /* descomente p/ ver os botões */
    }

    .gate{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  background: rgba(0,0,0,.01); /* quase invisível */
  cursor:pointer;
  z-index: 10;
}

.gateText{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35);
  color:rgba(255,255,255,.9);
  font-weight:700;
  backdrop-filter:blur(6px);
  user-select:none;
}
    
  </style>
</head>

<body>
  <div class="wrap">
    <div class="screen"></div>
    
    <div class="gate" id="gate">
        <div class="gateText">Toque para conectar</div>
    </div>
    
    <!-- HOTSPOTS (já posicionados para sua imagem bg.png) -->
    <!-- Agenda -->
    <div class="hotspot"
      style="left:36.98%; top:58.98%; width:30.56%; height:5.81%;"
      data-link="LINK_DO_DRIVE_AGENDA">
    </div>

    <!-- Contrate -->
    <div class="hotspot"
      style="left:36.98%; top:65.48%; width:30.56%; height:5.76%;"
      data-link="LINK_DO_DRIVE_CONTRATE">
    </div>

    <!-- Mídia -->
    <div class="hotspot"
      style="left:36.89%; top:72.07%; width:30.47%; height:5.76%;"
      data-link="LINK_DO_DRIVE_MIDIA">
    </div>

    <!-- Ingressos -->
    <div class="hotspot"
      style="left:36.89%; top:78.86%; width:30.47%; height:5.76%;"
      data-link="LINK_DO_DRIVE_INGRESSOS">
    </div>
  </div>

  <!-- Sons (mantendo nomes originais) -->
  <audio class="sfx_ambient" src="online.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="newemail.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="nudge.wav" preload="auto"></audio>
  <audio class="sfx_ambient" src="type.wav" preload="auto"></audio>

  <script>
  let audioEnabled = false;
  let ambienceTimer = null;

  function rand(min, max){
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function pickRandomAmbient(){
    const list = Array.from(document.querySelectorAll("audio.sfx_ambient"));
    return list[Math.floor(Math.random() * list.length)];
  }

  async function playSafe(audioEl){
    try{
      audioEl.volume = 1.0;      // volume máximo no play real
      audioEl.currentTime = 0;
      await audioEl.play();
    } catch(e) {}
  }

  function scheduleAmbience(){
    if (!audioEnabled) return;

    const nextMs = rand(5000, 10000);
    ambienceTimer = setTimeout(async () => {
      if (!audioEnabled) return;
      await playSafe(pickRandomAmbient());
      scheduleAmbience();
    }, nextMs);
  }

  // “prime” (arma) os áudios no primeiro toque (melhora MUITO no celular)
  async function primeAudios(){
    const all = [
      document.getElementById("sfx_ambient"),
      ...Array.from(document.querySelectorAll("audio.sfx_ambient"))
    ].filter(Boolean);

    for (const a of all){
      try{
        const oldVol = a.volume;
        // Se você não quiser o "quase mudo", pode trocar 0.001 por 1.0
        a.volume = 0.001;
        a.currentTime = 0;
        await a.play();
        a.pause();
        a.currentTime = 0;
        a.volume = oldVol;
      } catch(e) {}
    }
  }

  const gate = document.getElementById("gate");
  gate.addEventListener("click", async () => {
    audioEnabled = true;
    await primeAudios();
    await playSafe(document.getElementById("sfx_enter")); // som “online” alto
    gate.style.display = "none";
    scheduleAmbience();
  });

  // Hotspots: só abre link (sem som)
  document.querySelectorAll(".hotspot").forEach(el => {
    el.addEventListener("click", () => {
      const link = el.dataset.link;
      if(!link || link.startsWith("LINK_")) return;
      window.open(link, "_blank", "noopener,noreferrer");
    });
  });
</script>
</body>
</html>
